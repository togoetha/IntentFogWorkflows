network:
  - name: "wf1"
    msubnet: "192.168.99.0/24" # wf management subnet, to give each pod management IP, separate from data links
    dsubnet: "192.168.0.0/24" # wf data subnet can use IPNetwork lib in python, good at parsing IPs
    p2pdsubnets: ["192.168.0.0/24", "192.168.0.4/24", "192.168.0.8/24", "192.168.0.12/24", "192.168.0.16/24", "192.168.0.20/24"] #use smaller subnets for P2P connections while larger subnet for wf - need to double check though as work prgress.
    igresssubnet: "192.168.199.0/24" #user ingress subnet for wf ingress requests
    egresssubnet: "192.168.199.0/24" #user egress subnet for wf egress of results - it could be different from igress but he it just means the result comes back to same user requested it
    numservices: 5   # this is the set of Msers
    numedges: 6   # logical relationships between Msers (i.e. dependency map)
    numnodes: 2   # deployment nodes
nodes:
  - name: node0
    publicip: "10.2.0.84"
    services:
      - name: "user1request"
        image: togoetha/dummygenerator
        bandwidth: "100M"
        memory: "200M"
        cpu: "1000m"
        workload: 40
        latency: 0
        mipaddr: "192.168.99.10/24"
        dipaddr: ["192.168.199.10/24"]
      - name: "userresponse"
        image: togoetha/dummysink
        bandwidth: "100M"
        memory: "300M"
        cpu: "1000m"
        workload: 0
        latency: 0
        mipaddr: "192.168.99.20/24"
        dipaddr: ["192.168.199.20/24"]
  - name: node1 
    publicip: "10.2.0.94"
    services:
      - name: "user2request"
        image: togoetha/dummygenerator
        bandwidth: "100M"
        memory: "200M"
        cpu: "1000m"
        workload: 40
        latency: 0
        mipaddr: "192.168.99.11/24"
        dipaddr: ["192.168.199.11/24"]
  - name: node2 
    publicip: "10.2.0.79"
    services:
      - name: "user3request"
        image: togoetha/dummygenerator
        bandwidth: "100M"
        memory: "200M"
        cpu: "1000m"
        workload: 40
        latency: 0
        mipaddr: "192.168.99.12/24"
        dipaddr: ["192.168.199.12/24"]
  - name: node3 #7500
    publicip: "10.2.0.96"
    services:
      - name: "n7.1"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "200M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.1/24"
        dipaddr: ["192.168.199.2/24", "192.168.0.1/24", "192.168.0.5/24", "192.168.0.9/24"]
      - name: "n7.2"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "300M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.2/24"
        dipaddr: ["192.168.0.2/24", "192.168.0.13/24"]
      - name: "n7.3"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "250M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.3/24"
        dipaddr: ["192.168.0.6/24", "192.168.0.17/24"]
      - name: "n7.4"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "250M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.4/24"
        dipaddr: ["192.168.0.10/24", "192.168.0.21/24"]
      - name: "n7.5"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "250M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.5/24"
        dipaddr: ["192.168.0.14/24", "192.168.0.18/24", "192.168.0.22/24", "192.168.199.4/24"]
  - name: node4 #7500
    publicip: "10.2.0.93"
    services:
      - name: "n8.1"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "200M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.101/24"
        dipaddr: ["192.168.199.102/24", "192.168.0.101/24", "192.168.0.105/24", "192.168.0.109/24"]
      - name: "n8.2"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "300M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.102/24"
        dipaddr: ["192.168.0.102/24", "192.168.0.113/24"]
      - name: "n8.3"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "250M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.103/24"
        dipaddr: ["192.168.0.106/24", "192.168.0.117/24"]
      - name: "n8.4"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "250M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.104/24"
        dipaddr: ["192.168.0.110/24", "192.168.0.121/24"]
      - name: "n8.5"
        image: togoetha/dummyprocessor
        bandwidth: "100M"
        memory: "250M"
        cpu: "1500m"
        workload: 1000
        latency: 0
        mipaddr: "192.168.99.105/24"
        dipaddr: ["192.168.0.114/24", "192.168.0.118/24", "192.168.0.122/24", "192.168.199.104/24"]
links:
  - name: "user1-->wf1_ms1"
    in: "192.168.199.10/24"
    lblinks:
      - out: "192.168.199.102/24"
  - name: "user2-->wf1_ms1"
    in: "192.168.199.11/24"
    lblinks:
      - out: "192.168.199.2/24"
  - name: "user3-->wf1_ms1"
    in: "192.168.199.12/24"
    lblinks:
      - out: "192.168.199.102/24"
  - name: "wf1_ms1-->wf1_ms2"
    in: "192.168.0.1/24"
    lblinks:
      - out: "192.168.0.2/24"
  - name: "wf1_ms2-->wf1_ms3"
    in: "192.168.0.13/24"
    lblinks:
      - out: "192.168.0.6/24"
  - name: "wf1_ms3-->wf1_ms4"
    in: "192.168.0.17/24"
    lblinks:
      - out: "192.168.0.10/24"
  - name: "wf1_ms4-->wf1_ms5"
    in: "192.168.0.21/24"
    lblinks:
      - out: "192.168.0.14/24"
  #- name: "wf1_ms3-->wf1_ms5"
  #  in: "192.168.0.17/24"
  #  lblinks:
  #    - out: "192.168.0.18/24"
  #- name: "wf1_ms4-->wf1_ms5"
  #  in: "192.168.0.21/24"
  #  lblinks:
  #    - out: "192.168.0.22/24"
  - name: "wf1_ms5-->response"
    in: "192.168.199.4/24"
    lblinks:
      - out: "192.168.199.20/24"
  - name: "wf1_ms1_1-->wf1_ms2_1"
    in: "192.168.0.101/24"
    lblinks:
      - out: "192.168.0.103/24"
  - name: "wf1_ms2_1-->wf1_ms3_1"
    in: "192.168.0.112/24"
    lblinks:
      - out: "192.168.0.106/24"
  - name: "wf1_ms3_1-->wf1_ms4_1"
    in: "192.168.0.117/24"
    lblinks:
      - out: "192.168.0.110/24"
  - name: "wf1_ms4_1-->wf1_ms5_1"
    in: "192.168.0.121/24"
    lblinks:
      - out: "192.168.0.114/24"
  #- name: "wf1_ms3_1-->wf1_ms5_1"
  #  in: "192.168.0.117/24"
  #  lblinks:
  #    - out: "192.168.0.118/24"
  #- name: "wf1_ms4_1-->wf1_ms5_1"
  #  in: "192.168.0.121/24"
  #  lblinks:
  #    - out: "192.168.0.122/24"
  - name: "wf1_ms5_1-->response"
    in: "192.168.199.104/24"
    lblinks:
      - out: "192.168.199.20/24"
#delays:
#  - from: "10.2.0.94"
#    to: "10.2.0.96"
#    delay: "50ms"





